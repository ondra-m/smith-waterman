Sequential:

  test6:
    classic run: 89 MB memory
    optimized 1: 22 MB memory  // only with direction matrix
    optimized 2: 6 MB memory   // direction matrix - char -> BitArray

  test7:
    classic run: > 25 GB memory
    optimized: 1,5 GB memory
               494,68s
